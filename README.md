# MonorepoTemplate

[![Build and deploy pre release packages on Merge to main](https://github.com/inscriptors/micro-app-template/actions/workflows/prerelease.yml/badge.svg)](https://github.com/inscriptors/micro-app-template/actions/workflows/prerelease.yml)

[![Graduate release on Manual Trigger](https://github.com/inscriptors/micro-app-template/actions/workflows/publish.yml/badge.svg)](https://github.com/inscriptors/micro-app-template/actions/workflows/publish.yml)

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

## Understand this workspace

This workspace has frontend project and a backend project.

Frontend project is React based and backend project is Express based.

### Build

To build the project run `yarn build` or `lerna run build` in the root directory.

This builds both the frontend and backend projects.

Build output is in the `dist` directory.

There are two builds for frontend. Once is for Single SPA and another one is for Webpack 5.

Single SPA can be integrated with other frameworks like Angular, React, Vue etc.

Webpack 5 build is a standalone build which exposes the React app as Federated Module.

This can be integrated with Shell applications.

Learn more about Webpack 5 here: https://webpack.js.org/concepts/module-federation/

## Remote caching

Run `npx nx connect-to-nx-cloud` to enable [remote caching](https://nx.app) and make CI faster.

## Further help

Visit the [Nx Documentation](https://nx.dev) to learn more.

## commitlint

This project uses [commitlint](https://commitlint.js.org/#/) to enforce commit message conventions. The commit message conventions are defined in the [commitlint.config.js](commitlint.config.js) file.

## Husky

This project uses [husky](https://typicode.github.io/husky/#/) to run git hooks. The git hooks are defined in the [husky.config.js](husky.config.js) file.

as part of yarn install husky will run `husky install` which will create a `.husky` directory and add a `pre-commit` hook to the `.git/hooks` directory. The `pre-commit` hook will run `yarn lint` before allowing a commit to be made.

```
npx husky add .husky/pre-commit "npx lint-staged"
```

```
# .husky/commit-msg (v8)
npx --no -- commitlint --edit $1
```

```
npx husky add .husky/commit-msg "npx --no -- commitlint --edit $1"
```

